
---

# ğŸ¨ Frontend E-commerce â€“ GuÃ­a FINAL

**React + Bun + TailwindCSS (JS, producciÃ³n real)**

---

## 0ï¸âƒ£ Principios base (esto guÃ­a todo)

- SPA (consume API Spring Boot)
    
- Backend = fuente de verdad
    
- Frontend = UI + UX + orquestaciÃ³n
    
- **NO lÃ³gica de negocio crÃ­tica**
    
- **NO JWT en localStorage**
    
- Seguridad desde el diseÃ±o
    

---

## 1ï¸âƒ£ Stack FINAL confirmado

### Core

- **React 18**
    
- **Bun**
    
- **Vite**
    
- **JavaScript (ES2022+)**
    
- **TailwindCSS**
    

### Routing & State

- **React Router v6**
    
- **Zustand** (estado global mÃ­nimo)
    
- **TanStack Query** (server state)
    

### Networking & Utils

- **Axios**
    
- **Zod** (validaciones de formularios)
    
- **Mercado Pago JS SDK**
    

---

## 2ï¸âƒ£ Arquitectura frontend (la correcta)

### ğŸ§  Modelo mental

```
UI â†’ Hooks â†’ API â†’ Backend
```

- UI no conoce axios
    
- UI no conoce endpoints
    
- UI no maneja auth directamente
    

---

## 3ï¸âƒ£ Estructura de carpetas FINAL

```
src/
â”œâ”€â”€ app/
â”œâ”€â”€ features/
â”œâ”€â”€ components/
â”œâ”€â”€ services/
â”œâ”€â”€ store/
â”œâ”€â”€ hooks/
â”œâ”€â”€ lib/
â”œâ”€â”€ styles/
â”œâ”€â”€ assets/
â””â”€â”€ main.jsx
```

---

## 4ï¸âƒ£ APP â€“ configuraciÃ³n global

```
app/
â”œâ”€â”€ router.jsx
â”œâ”€â”€ providers.jsx
â”œâ”€â”€ queryClient.js
â”œâ”€â”€ authGuard.jsx
â””â”€â”€ env.js
```

### Responsabilidades

- Routing
    
- Providers globales
    
- ProtecciÃ³n de rutas
    
- Variables de entorno
    

---

## 5ï¸âƒ£ FEATURES (nÃºcleo del frontend)

ğŸ“Œ **Feature-based real**  
Cada mÃ³dulo es independiente.

```
features/
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ api.js
â”‚   â”œâ”€â”€ hooks.js
â”‚   â”œâ”€â”€ store.js
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ LoginPage.jsx
â”‚       â””â”€â”€ RegisterPage.jsx
â”‚
â”œâ”€â”€ products/
â”‚   â”œâ”€â”€ api.js
â”‚   â”œâ”€â”€ hooks.js
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ pages/
â”‚
â”œâ”€â”€ cart/
â”‚   â”œâ”€â”€ store.js
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ hooks.js
â”‚
â”œâ”€â”€ checkout/
â”‚   â”œâ”€â”€ api.js
â”‚   â”œâ”€â”€ hooks.js
â”‚   â”œâ”€â”€ mercadopago.js
â”‚   â””â”€â”€ pages/
â”‚
â””â”€â”€ orders/
    â”œâ”€â”€ api.js
    â”œâ”€â”€ hooks.js
    â””â”€â”€ pages/
```

âœ”ï¸ Escalable  
âœ”ï¸ Mantenible  
âœ”ï¸ No se rompe al crecer

---

## 6ï¸âƒ£ COMPONENTES REUTILIZABLES

```
components/
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ Button.jsx
â”‚   â”œâ”€â”€ Input.jsx
â”‚   â”œâ”€â”€ Modal.jsx
â”‚   â””â”€â”€ Loader.jsx
â”‚
â”œâ”€â”€ layout/
â”‚   â”œâ”€â”€ Navbar.jsx
â”‚   â”œâ”€â”€ Footer.jsx
â”‚   â””â”€â”€ ProtectedLayout.jsx
â”‚
â””â”€â”€ feedback/
    â”œâ”€â”€ Toast.jsx
    â””â”€â”€ ErrorBoundary.jsx
```

ğŸ“Œ **UI no tiene lÃ³gica de negocio**

---

## 7ï¸âƒ£ SERVICES â€“ comunicaciÃ³n con backend

```
services/
â”œâ”€â”€ api.js
â”œâ”€â”€ auth.interceptor.js
â””â”€â”€ error.interceptor.js
```

### api.js

```js
import axios from "axios";

export const api = axios.create({
  baseURL: import.meta.env.VITE_API_URL,
  withCredentials: true
});
```

âœ”ï¸ Cookies HttpOnly  
âœ”ï¸ JWT invisible para JS  
âœ”ï¸ Centralizado

---

## 8ï¸âƒ£ STATE MANAGEMENT (bien hecho)

### ğŸ”¹ Zustand (estado real del cliente)

```
store/
â”œâ”€â”€ auth.store.js
â””â”€â”€ cart.store.js
```

- Usuario autenticado (flag)
    
- Datos UI
    
- Carrito (temporal)
    

âŒ No Ã³rdenes  
âŒ No pagos  
âŒ No stock

---

### ğŸ”¹ TanStack Query (estado del servidor)

- Productos
    
- Ã“rdenes
    
- Perfil
    
- Dashboard admin
    

âœ”ï¸ Cache  
âœ”ï¸ Reintentos  
âœ”ï¸ RevalidaciÃ³n automÃ¡tica

---

## 9ï¸âƒ£ SEGURIDAD EN FRONTEND (REAL)

### Lo que SÃ haces

- Cookies HttpOnly
    
- `credentials: "include"`
    
- Rutas protegidas
    
- ValidaciÃ³n con Zod
    
- Escape de inputs
    
- CSP desde servidor
    

### Lo que NO haces

âŒ Guardar JWT  
âŒ Calcular totales  
âŒ Validar stock  
âŒ Confiar en roles del frontend

---

## ğŸ” Auth Guard

```jsx
if (!isAuthenticated) {
  return <Navigate to="/login" />;
}
```

---

## ğŸ’³ 10ï¸âƒ£ Mercado Pago â€“ Flujo correcto

```
features/checkout/mercadopago.js
```

### Flujo REAL

1. Frontend â†’ POST `/orders`
    
2. Backend crea orden
    
3. Backend crea preferencia MP
    
4. Backend devuelve `init_point`
    
5. Frontend redirige
    

âŒ No SDK con credenciales  
âŒ No pagos directos  
âŒ No montos desde frontend

---

## ğŸ›’ 11ï¸âƒ£ Carrito de compras

- Vive SOLO en frontend
    
- Zustand
    
- Se borra al:
    
    - Logout
        
    - Orden creada
        

ğŸ‘‰ **El carrito NO es negocio**

---

## ğŸ“¦ 12ï¸âƒ£ Ã“rdenes (frontend)

### Usuario

- Ver mis Ã³rdenes
    
- Ver estado
    
- Ver detalle
    

### Admin

- Ver pedidos PAGADOS
    
- Cambiar estado
    
- Dashboard de ventas
    

---

## ğŸ¨ 13ï¸âƒ£ Tailwind â€“ reglas sanas

- Nada inline
    
- `@layer components`
    
- Design tokens
    
- Clases reutilizables
    

---

## ğŸŒ 14ï¸âƒ£ Environments

```
.env.development
.env.production
```

```env
VITE_API_URL=https://api.mebsystore.com
```

---

## ğŸ§ª 15ï¸âƒ£ Testing (mÃ­nimo viable)

- Login
    
- Checkout
    
- Ã“rdenes
    

Herramientas:

- Vitest
    
- Testing Library
    

---

## ğŸš€ 16ï¸âƒ£ Build & Deploy

- Bun build
    
- Code splitting
    
- Lazy loading
    
- CDN (Vercel / Netlify)
    
- HTTPS obligatorio
    

---

## ğŸ§¾ CHECKLIST FINAL FRONTEND

âœ… JavaScript moderno  
âœ… Arquitectura feature-based  
âœ… Cookies HttpOnly  
âœ… Sin JWT en JS  
âœ… Checkout aislado  
âœ… Backend como verdad  
âœ… Listo para producciÃ³n

---

## ğŸ ConclusiÃ³n

Lo que tienes ahora es:


---
